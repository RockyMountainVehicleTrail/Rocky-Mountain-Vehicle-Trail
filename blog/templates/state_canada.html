
{% extends "base.html" %}
{% load static %}




{% block title %}Pick Your State{% endblock %}
 
{% block head %} 
	{% include "cluster_head.html" %}
{% endblock head%} 



{% block content %}


<div id='map' style='height: 90vh;'>			</div>
		
	


 
    <script>
		var map = L.map("map").setView([34.397, -98.644], 4);
		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={pk.eyJ1IjoibWFya29sOTE3ODQiLCJhIjoiY2p0cnoxemhkMHZqZDRkbzRnc2gzMTZnaSJ9.yCybrMU002J9e4nJ28zZuA}', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			maxZoom: 18,
			id: 'mapbox.streets',
			accessToken: 'pk.eyJ1IjoibWFya29sOTE3ODQiLCJhIjoiY2p0cnoxemhkMHZqZDRkbzRnc2gzMTZnaSJ9.yCybrMU002J9e4nJ28zZuA'
		}).addTo(mymap);
		

    </script>
    
    <script>
		var markers = L.markerClusterGroup();
		
		{% for feature in features %}
			var feat_marker_{{feature.pk}} = L.marker([{{feature.point.y}}, {{feature.point.x}}])
			markers.addLayer(feat_marker_{{feature.pk}})	
		{% endfor %}
		map.addLayer(markers);
			
		

		
		
		
		
    </script>



    
{% endblock %}
